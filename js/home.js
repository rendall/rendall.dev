(()=>{"use strict";var e=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,c=n.length;o<c;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))};!function(n){if(null!==document.querySelector("form[name=contact]")){var t=/^(([^<>()\[\]\\.,:\s@"]+(\.[^<>()\[\]\\.,:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=function(e,n){return new Promise((function(t,r){var o=e.map((function(e){return"".concat(e.name,"=").concat(encodeURI(e.value))})).join("&"),c=new XMLHttpRequest;c.open("POST",n),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.timeout=5e3,c.addEventListener("load",(function(e){return 200===c.status?t():r("".concat(c.status,":").concat(c.statusText))})),c.send(o)}))},o=function(e,n,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),null===e.item(t)?null:o(e,n,t+1,e.item(t).classList.remove(n))};document.querySelector("form button").addEventListener("click",(function(n){n.preventDefault(),o(document.getElementsByClassName("notify-invalid"),"is-invalid");var c=Array.from(document.querySelectorAll("form input,textarea")),a=c.reduce((function(n,r){return function(e){switch(e.name){case"name":return""!=e.value;case"email":return t.test(e.value);case"message":return""!=e.value&&e.value.length>5&&e.value.includes(" ");case"form-name":var n=document.querySelector("form").attributes.getNamedItem("name").value;return e.value!==n&&console.warn("form-name field '".concat(e.value,"' does not equal form name '").concat(n,"'")),!0;case"city":case"confirm":return!0;default:return console.warn("unknown field name '".concat(e.name,"'")),!0}}(r)?n:e(e([],n,!0),[r.name],!1)}),[]);0===a.length?r(c,"/").then((function(){return document.querySelector(".contain-form").classList.add("is-success"),document.querySelector(".notify-success").classList.add("is-success"),o(document.getElementsByClassName("notify-error"),"is-error"),void(document.querySelector("#error-message").innerHTML="")})).catch((function(e){return function(e){document.querySelector(".notify-error").classList.add("is-error"),document.querySelector("#error-message").innerHTML=e,console.error(e)}(e)})):function(e){e.map((function(e){return document.querySelector("label[for=".concat(e,"] + .notify-invalid"))})).forEach((function(e){return e.classList.add("is-invalid")}))}(a)}))}}()})();
//# sourceMappingURL=home.js.map